schema: '2.0'
stages:
  prepare:
    cmd: python src/stroke_prediction/preprocess.py preprocess-data data/raw/healthcare-dataset-stroke-data.csv
      data/processed/ -y
    deps:
    - path: data/raw/healthcare-dataset-stroke-data.csv
      hash: md5
      md5: 3f25a4c2f2963d969e1a156c08968577
      size: 316971
    - path: src/stroke_prediction/preprocess.py
      hash: md5
      md5: beb8ca84f3ff2055e214a2ebfeaf8cd7
      size: 9970
    params:
      params.yaml:
        preprocess.test_size: 0.15
        preprocess.val_size: 0.15
        random_seed: 42
    outs:
    - path: data/processed/test-stroke-data.parquet
      hash: md5
      md5: 5b14440517b01cf6171d4f4858767313
      size: 18670
    - path: data/processed/train-stroke-data.parquet
      hash: md5
      md5: ba4c5aca2f800c28a031f138374b532e
      size: 44059
    - path: data/processed/val-stroke-data.parquet
      hash: md5
      md5: c1266198a739cede0bfe4ec05fc84acd
      size: 18618
  resample:
    cmd: python src/stroke_prediction/preprocess.py resample-data data/processed/train-stroke-data.parquet
      data/processed/train-stroke-data-resampled.parquet -y
    deps:
    - path: data/processed/train-stroke-data.parquet
      hash: md5
      md5: ba4c5aca2f800c28a031f138374b532e
      size: 44059
    - path: src/stroke_prediction/preprocess.py
      hash: md5
      md5: beb8ca84f3ff2055e214a2ebfeaf8cd7
      size: 9970
    params:
      params.yaml:
        random_seed: 42
    outs:
    - path: data/processed/train-stroke-data-resampled.parquet
      hash: md5
      md5: 5100c5408962f538633adc9d7c2fca09
      size: 209668
  train:
    cmd: python src/stroke_prediction/train.py data/processed/train-stroke-data-resampled.parquet
      data/processed/val-stroke-data.parquet models/catboost-model.cbm -y
    deps:
    - path: data/processed/train-stroke-data-resampled.parquet
      hash: md5
      md5: 5100c5408962f538633adc9d7c2fca09
      size: 209668
    - path: data/processed/val-stroke-data.parquet
      hash: md5
      md5: c1266198a739cede0bfe4ec05fc84acd
      size: 18618
    - path: src/stroke_prediction/train.py
      hash: md5
      md5: 1e61d491de1184a6c8e3b6b15f8f0367
      size: 4131
    params:
      params.yaml:
        model.boosting_type: Plain
        model.bootstrap_type: MVS
        model.colsample_bylevel: 0.09512938089563211
        model.depth: 8
        model.l2_leaf_reg: 8.115228714496485
        random_seed: 42
    outs:
    - path: models/catboost-model.cbm
      hash: md5
      md5: bf8aa03d6e4bd2370f8bb593aaf86af8
      size: 121184
